<aura:component description="BL_CompetitionProgressChart"
                controller="BL_CompetitionProgressChartController"
                implements="flexipage:availableForAllPageTypes,force:hasRecordId">

    <aura:attribute name="competitionId" type="String"/>
    <aura:attribute name="labels" type="List"/>
    <aura:attribute name="dataSets" type="List"/>
    <aura:attribute name="chartHeight" type="String" default="300"/>
    <aura:attribute name="isSpinner" type="Boolean" default="false"/>
    <aura:attribute name="isCompetitionStarted" type="Boolean" default="false"/>

    <aura:handler event="c:BL_MatchScoreSaved" action="{!c.onInit}"/>

    <ltng:require scripts="{!$Resource.ChartJS}" afterScriptsLoaded="{!c.onInit}"/>

    <c:BL_Card title="{!$Label.c.BL_Progress_Chart}">
        <aura:if isTrue="{!v.isSpinner}">
            <lightning:spinner variant="brand" size="small"/>
        </aura:if>
        <div style="position: relative; padding: 4px;">
            <canvas aura:id="chart" height="{!v.chartHeight}"></canvas>
        </div>
        <aura:if isTrue="{!not(v.isSpinner)}">
            <aura:if isTrue="{!not(v.isCompetitionStarted)}">
                    <ui:outputText value="{!$Label.c.BL_League_Not_Started}" class="slds-align_absolute-center height-full"/>
            </aura:if>
        </aura:if>
    </c:BL_Card>
</aura:component>