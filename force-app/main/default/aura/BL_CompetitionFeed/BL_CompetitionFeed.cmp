<aura:component
        description="BL_CompetitionFeed"
        controller="BL_CompetitionFeedController"
        implements="forceCommunity:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId"
        access="global"
>

    <aura:attribute name="recordId" type="String"/>
    <aura:attribute name="feedItems" type="List"/>
    <aura:attribute name="height" type="String" default="300px"/>
    <aura:attribute name="isSpinner" type="Boolean" default="false"/>

    <aura:handler name="init" value="{!this}" action="{!c.onInit}"/>
    <aura:handler event="c:BL_MatchScoreSaved" action="{!c.onInit}"/>

    <aura:method name="refresh" action="{!c.onInit}"/>

    <c:BL_Card title="{!$Label.c.BL_Feed}">
        <div style="{!'height: ' + v.height}" class="slds-scrollable_y">
            <aura:if isTrue="{!v.isSpinner}">
                <lightning:spinner variant="brand" size="small"/>
                <aura:set attribute="else">
                    <aura:iteration items="{!v.feedItems}" var="feedItem">
                        <c:BL_FeedItem feedItem="{!feedItem}"/>
                    </aura:iteration>
                </aura:set>
            </aura:if>
        </div>
    </c:BL_Card>
</aura:component>